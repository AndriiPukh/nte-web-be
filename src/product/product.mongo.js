const mongoose = require('mongoose');
const { Schema } = require('mongoose');

const productSchema = new mongoose.Schema({
  title: {
    type: String,
    required: true,
  },
  trademark: {
    type: String,
    required: true,
  },
  image: {
    type: String,
    default: null,
  },
  category: {
    type: String,
    enum: [
      'фрукти та овочі',
      'молочні продукти та яйця',
      "м'ясо",
      'риба та морепродукти',
      "м'ясо-ковбасні вироби",
      'заморожені продукти',
      'бакалея',
      'консервація, соуси, приправи',
      'солодощі',
      'безалкогольні напої',
      'чай, кава',
      'алкоголь',
      'cнеки',
      'хліб та хлібобулочні вироби',
    ],
    required: true,
  },
  subCategory: {
    type: String,
    enum: [
      'фрукти',
      'овочі',
      'гриби',
      'зелень',
      'сухі фрукти та горіхи',
      'соління',
      'яйця',
      'молоко',
      'сир',
      'творог',
      'йогурт',
      'сметана',
      'вершки',
      'масло',
      'маргарин',
      'кисломолочні напої',
      'молочні десерти',
      'безлактозна продукція',
      'дитячі молочні продукти',
      'свинина',
      'курятина',
      'яловичина',
      'індичка',
      'кролятина',
      "мелене м'ясо",
      'субпродукти',
      'телятина',
      'охолоджені напівфабрикати',
      'баранина',
      'охолоджена ковбаса',
      'качатина',
      'свіжа риба',
      'приготовлена риба',
      'ікра',
      'морепродукти',
      'варена ковбаса',
      'копчена ковбаса',
      'сосиски',
      'сардельки',
      'буженина',
      'бекон',
      'балик',
      'грудинка',
      'шинка',
      'хамон',
      "копчене м'ясо",
      'інші ковбасні вироби',
      'заморожена риба',
      "заморожене м'ясо",
      'заморожені морепродукти',
      'заморожене тісто',
      'заморожена піца',
      'заморожені напівфабрикати',
      'заморожені фрукти',
      'заморожені овочі та зелень',
      'морозиво',
      'макарони',
      'крупи',
      'борошно',
      'сухі сніданки',
      'каша та мюслі',
      'цукор',
      'сіль',
      'продукти швидкого приготування',
      'продукти для випічки',
      'соєві продукти',
      'сиропи та топінги',
      'масло рослинне',
      'оцет',
      'варення та джеми',
      'консервовані фрукти',
      'консервовані гриби',
      'консервована риба',
      "консервоване м'ясо",
      'паштет',
      'оливки',
      'маслини',
      'майонез',
      'соуси',
      'приправи та спеції',
      'згущене молоко',
      'мед',
      'консервовані овочі',
      'шоколад у плитках',
      'цукерки',
      'жувальна гумка',
      'льодяники',
      'бісквіт',
      'вафлі',
      'кекси та печиво',
      'зефір',
      'мармелад',
      'пряники',
      'тістечка та торти',
      'діабетичні продукти',
      'шоколадні пасти',
      'халва',
      'желе',
      'інші солодощі',
      'мінеральна вода',
      'соки та нектари',
      'солодка вода',
      'енергетичні напої',
      'квас',
      'холодний чай',
      'чорний чай',
      'зелений чай',
      "трав'яний чай",
      'фруктовий чай',
      'білий чай',
      'чайні набори',
      'кава в зернах',
      'мелена кава',
      'кава розчинна',
      'кава в капсулах',
      'цикорій',
      'какао',
      'сухарики',
      'чіпси',
      'рибні закуски',
      "м'ясні закуски",
      'солоні горішки',
      'соломка',
      'кукурудзяні палички',
      'попкорн',
      'насіння',
      'інші закуски',
      'хліб',
      'батон',
      'інша випічка',
      'сушка і сухарі',
      'лаваші та коржі',
      'круасани, слойки',
      'хлібці',
      'багети та чіабата',
    ],
    required: true,
  },
  price: {
    type: Number,
  },
  unit: {
    type: String,
    required: true,
  },
  amount: {
    type: Number,
    required: true,
  },
  creator: {
    type: Schema.Types.ObjectId,
    ref: 'User',
    required: true,
  },
  comments: [
    {
      text: {
        type: String,
        required: true,
      },
      author: {
        type: Schema.Types.ObjectId,
        ref: 'User',
        required: true,
      },
      createdAt: {
        type: Date,
        default: Date.now(),
      },
    },
  ],
  deleted: {
    type: Boolean,
    default: false,
  },
  createdAt: {
    type: Date,
    default: Date.now(),
  },
  updatedAt: {
    type: Date,
    default: Date.now(),
  },
});

module.exports = mongoose.model('Product', productSchema);
